<filter-grid data-section-id="{{ section.id }}" data-search class="relative" x-data="{ filterSlide : false }">
  <div class="container mx-auto">
    <h1 class="text-xl my-4 text-center">Search Results</h1>
    <div class="flex justify-center items-center">
      <search-form>
        <form action="{{ routes.search_url }}" method="get" class="flex rounded border">
          <div class="relative flex text-gray-500 px-10">
            <input
              type="search"
              name="q"
              placeholder="Search"
              value="{{ search.terms | escape }}"
              class="w-auto md:w-80 px-4 py-2 border-none focus:outline-none"
            >
            <button type="submit" class="bg-gray-900 hover:bg-gray-700 text-white border rounded-full px-4">
              Search
            </button>
          </div>
        </form>
      </search-form>
    </div>
    <div id="product-list-container">
      {% paginate search.results by 8 %}
        {% if search.results.size > 0 %}
          <div class="max-w-6xl mx-auto">
            <p class="text-gray-700 text-center my-10">
              {{ search.results.size }} result for the search term <b>{{ search.terms | escape }}</b>
            </p>
            {% if search.results.size > 0 %}
              <button
                @click="filterSlide = true"
                type="button"
                class="w-26 flex justify-between shadow-xl text-black py-2 ml-3 pl-4 pr-6 rounded-md cursor-pointer border-1"
              >
                {% render 'icon-filter-horizontal' %}
                <span>filters</span>
              </button>
            {% endif %}
            <div class="grid grid-cols-1 sm:grid-cols-3 md:grid-cols-4">
              {% for item in search.results %}
                {% case item.object_type %}
                  {% when 'product' %}
                    {% render 'product-card', product_item: item %}
                  {% else %}

                {% endcase %}
              {% endfor %}
            </div>
          </div>
        {% else %}
          <div class="my-10">
            <p class="text-center">
              No results for the search term: {{ search.terms | escape }}. Try to use a different keyword
            </p>
          </div>
        {% endif %}

        {% render 'pagination', pagination: paginate %}
      {% endpaginate %}
    </div>
  </div>

  {% render 'filter-panel' %}
</filter-grid>
